{"version":3,"sources":["app.ts"],"names":["AppComponent","AppComponent.constructor","AppComponent.getCourses","AppComponent.classAlreadyAdded","AppComponent.removeAll","AppComponent.onCourseSelect","AppComponent.addCourse","AppComponent.removeCourse","AppComponent.updateStats","AppComponent.prettify","AppComponent.checkUnitsHasHypen"],"mappings":"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BAAmBA,CAACA,CAACA;IACjDA,CAACA;IAEDJ,qCAAcA,GAAdA,UAAeA,CAASA;QACpBK,IAAIA,CAACA,UAAUA,GAAGA,CAACA,CAACA;IACxBA,CAACA;IAEDL,gCAASA,GAATA,UAAUA,CAASA;QACfM,EAAEA,CAACA,CAACA,IAAIA,CAACA,iBAAiBA,IAAIA,IAAIA,CAACA,CAACA,CAACA;YACjCA,IAAIA,CAACA,iBAAiBA,GAAGA,EAAEA,CAACA;QAChCA,CAACA;QACDA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;QAC/BA,CAACA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;QACfA,IAAIA,CAACA,WAAWA,EAAEA,CAACA;QACnBA,EAAEA,CAACA,CAACA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAACA;YACvBA,YAAYA,CAACA,OAAOA,CAACA,mBAAmBA,EAAEA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA,CAACA;QACtFA,CAACA;IACLA,CAACA;IAEDN,mCAAYA,GAAZA,UAAaA,CAASA;QAClBO,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,OAAOA,CAACA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;QACpEA,CAACA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;QAChBA,IAAIA,CAACA,WAAWA,EAAEA,CAACA;QACnBA,EAAEA,CAACA,CAACA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAACA;YACvBA,YAAYA,CAACA,OAAOA,CAACA,mBAAmBA,EAAEA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA,CAACA;QACtFA,CAACA;IACLA,CAACA;IAEDP,kCAAWA,GAAXA;QACIQ,IAAIA,QAAQA,GAAGA,EAAEA,CAACA;QAClBA,IAAIA,UAAUA,GAAGA,CAACA,CAACA;QACnBA,IAAIA,CAACA,iBAAiBA,CAACA,OAAOA,CAACA,UAACA,IAAIA;YAChCA,EAAEA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","file":"app.js","sourcesContent":["import {Component, ChangeDetectionStrategy, ChangeDetectorRef, EventEmitter, Output} from 'angular2/core';\nimport {Course} from './course';\nimport {CourseService} from './course-service';\nimport {CORE_DIRECTIVES, FORM_DIRECTIVES} from 'angular2/common';\nimport {OrderByPipe} from './orderByPipe';\nimport {FilterPipe} from './filterPipe';\nimport {Observable} from 'rxjs/Rx';\n\n@Component({\n  selector: 'app',\n  templateUrl: './app.html',\n  styleUrls: ['./app.css', './css/bootstrap.css'],\n  providers: [CourseService],\n  directives: [CORE_DIRECTIVES, FORM_DIRECTIVES],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  pipes: [OrderByPipe, FilterPipe],\n  viewBindings: [CourseService]\n})\nexport class AppComponent {\n\n    public hasLocalStorage: boolean = typeof(Storage) !== 'undefined';\n    public mySelectedCourses: Course[];\n    public MSCSortType = 'courseNumber';\n    public MSCSortReverse = false;\n    public classTypes: string;\n    public units: number;\n    public unitsHasRange: boolean;\n    public selectedText: string = 'Select courses below by department, course number, or units';\n    \n    public showCourse: Course;\n    public courses: Course[] = [];\n    public ACSortType = 'courseNumber';\n    public ACSortReverse = false;\n    public searchString: string;\n    public subjects = ['AEPS','AERO','AG','AGB','AGC','AGED','ANT','ARCE','ARCH','ART','ASCI','ASTR','BIO',\n            'BMED','BOT','BRAE','BUS','CD','CE','CHEM','CHIN','CM','COMS','CPE','CRP','CSC','DANC',\n            'DATA','DSCI','ECON','EDES','EDUC','EE','ENGL','ENGR','ENVE','ERSC','ES','FR','FSN',\n            'GEOG','GEOL','GER','GRC','GSB','HIST','IME','ISLA','IT','ITAL','JOUR','JPNS','KINE',\n            'LA','LS','MATE','MATH','MCRO','ME','MLL','MSCI','MSL','MU','NR','PHIL','PHYS','POLS',\n            'PSC','PSY','RELS','RPTA','SCM','SOC','SOCS','SPAN','SS','STAT','TH','WGS','WVIT','ZOO'];\n                     \n    constructor(private _courseService: CourseService,\n                private _changeDetectorRef: ChangeDetectorRef) {\n        this.courses = [];\n        if (this.hasLocalStorage && localStorage.getItem('mySelectedCourses') !== null) {\n            this.mySelectedCourses = JSON.parse(localStorage.getItem('mySelectedCourses'));\n            this.updateStats();\n        }\n    }\n    \n    getCourses(col: string, value: string) {\n        this.selectedText = 'Loading...';\n        this._courseService.getCourses(col, value)\n            .subscribe(\n                res => {\n                    this.courses = res;\n                    let self = this;\n                    this.courses.forEach(function(elem) {\n                        if (self.classAlreadyAdded(elem.dept, elem.courseNumber, elem.type)) {\n                            elem.added = true;\n                        }\n                    });\n                    if (col === 'Dept') {\n                        this.selectedText = `Showing all ${value} courses`;\n                    } else if (col === 'courseNumber') {\n                        this.selectedText = `Showing all ${value + '00-level'} courses`;\n                    } else if (col === 'units') {\n                        this.selectedText = `Showing all ${(parseInt(value) > 0 ? value : 'varying') + '-unit'} courses`;\n                    }\n                    this._changeDetectorRef.markForCheck();\n                },\n                error => console.log(error));\n    }\n    \n    private classAlreadyAdded(dept: string, courseNumber: string, type: string) {\n        let temp: boolean = false;\n        if (this.mySelectedCourses) {\n            this.mySelectedCourses.forEach(function(elem) {\n                if (elem.dept === dept && elem.courseNumber === courseNumber && elem.type === type) {\n                    temp = true;\n                }\n            });\n        }\n        return temp;\n    }\n    \n    removeAll() {\n        this.mySelectedCourses = [];\n        localStorage.removeItem('mySelectedCourses');\n    }\n    \n    onCourseSelect(c: Course) {\n        this.showCourse = c;\n    }\n    \n    addCourse(c: Course) {\n        if (this.mySelectedCourses == null) {\n            this.mySelectedCourses = [];\n        }\n        this.mySelectedCourses.push(c);\n        c.added = true;\n        this.updateStats();\n        if (this.hasLocalStorage) {\n            localStorage.setItem('mySelectedCourses', JSON.stringify(this.mySelectedCourses));\n        }\n    }\n    \n    removeCourse(c: Course) {\n        this.mySelectedCourses.splice(this.mySelectedCourses.indexOf(c), 1);\n        c.added = false;\n        this.updateStats();\n        if (this.hasLocalStorage) {\n            localStorage.setItem('mySelectedCourses', JSON.stringify(this.mySelectedCourses));\n        }\n    }\n    \n    updateStats() {\n        var tempData = [];\n        var unitsCount = 0;\n        this.mySelectedCourses.forEach((elem) => {\n            if (tempData[elem.type] == null) {\n                tempData[elem.type] = 1;\n            } else {\n                tempData[elem.type] += 1;\n            }\n            unitsCount += parseInt(elem.units);\n        });\n        this.checkUnitsHasHypen();\n        this.units = unitsCount;\n        let tempString = '';\n        let numProps = Object.keys(tempData).length;\n        for (var prop in tempData) {\n            if (tempData[prop] > 0) {\n                tempString += this.prettify(prop, tempData[prop]) + (numProps > 1 ? ', ' : '');\n            }\n            numProps--;\n        }\n        this.classTypes = tempString;\n    }\n    \n    private prettify(code: string, num: number) {\n        if (code === 'Lec') {\n            return num + ' lecture' + (num > 1 ? 's' : '');\n        } else if (code === 'Lab') {\n            return num + ' lab' + (num > 1 ? 's' : '');\n        } else if (code === 'Act') {\n            return num + ' activit' + (num > 1 ? 'ies' : 'y');\n        } else if (code === 'Dis') {\n            return num + ' discussion' + (num > 1 ? 's' : '');\n        } else if (code === 'Sem') {\n            return num + ' seminar' + (num > 1 ? 's' : '');\n        } else if (code === 'Ind') {\n            return num + ' independent course' + (num > 1 ? 's' : '');\n        }\n        return '';\n    }\n    \n    private checkUnitsHasHypen() {\n        var temp = false;\n        this.mySelectedCourses.forEach((elem) => {\n            if (elem.units.indexOf('-') != -1) {\n                temp = true;\n            }\n        });\n        this.unitsHasRange = temp;\n    }\n}"],"sourceRoot":"/"}